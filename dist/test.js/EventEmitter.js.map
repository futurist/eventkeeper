{"version":3,"sources":["EventEmitter.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","EventEmitter","this","_events","value","event","data","undefined","arguments","listeners","listener","Array","isArray","l","once","callback","indexOf","splice","e","on","split","push","obj","toString","call"],"mappings":"AAAA,YAIA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,cAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,MAF3hBkB,aAAY,WAKN,QALNA,KAaJpB,gBAAgBqB,KAbZD,GAMJC,KAAKC,WA6FN,MAjFAlB,cAlBKgB,IAmBJJ,IAAK,OAQLO,MAZG,SAACC,GAaH,GAbUC,GAAIC,SAAAC,UAAA,GAAG,KAAIA,UAAA,GAClBC,EAAYP,KAAKC,QAAQE,GAC5BK,EAAW,IAEZ,IAAGC,MAAMC,QAAQH,IAAcA,EAAUnB,OAAS,EAAG,CACpD,IAAI,GAAIuB,GAAI,EAAGA,EAAIJ,EAAUnB,OAAQuB,IACpCH,EAAWD,EAAUI,GAElBH,EAASI,OACXL,EAAUI,GAAK,MAGhBH,EAASK,SAAST,EAGnB,MAAkC,KAA5BG,EAAUO,QAAQ,OACvBP,EAAUQ,OAAOR,EAAUO,QAAQ,MAAO,OAmB5CnB,IAAK,KASLO,MAhBC,SAACC,EAAOU,GAiBR,GAjBkBD,GAAIP,SAAAC,UAAA,IAAG,EAAKA,UAAA,EAC/B,IAAGG,MAAMC,QAAQP,GAChB,IAAI,GAAIa,GAAI,EAAGA,EAAIb,EAAMf,OAAQ4B,IAChChB,KAAKiB,GAAGd,EAAMa,GAAIH,OAEf,CACJ,GAAIK,GAAQf,EAAMe,MAAM,SAExB,IAAGA,EAAM9B,OAAS,EACjB,IAAI,GAAI4B,GAAI,EAAGA,EAAIE,EAAM9B,OAAQ4B,IAChChB,KAAKiB,GAAGC,EAAMF,GAAIH,OAGfJ,OAAMC,QAAQV,KAAKC,QAAQE,MAC9BH,KAAKC,QAAQE,OAGdH,KAAKC,QAAQE,GAAOgB,MACnBP,KAAMA,EACNC,SAAUA,QAwBblB,IAAK,OAQLO,MApBG,SAACC,EAAOU,GACXb,KAAKiB,GAAGd,EAAOU,GAAU,OA3ErBd,IAiFsB,oBAAlBU,OAAMC,UACfD,MAAMC,QAAU,SAASU,GACxB,MAA+C,mBAAxC3B,OAAOK,UAAUuB,SAASC,KAAKF","file":"EventEmitter.js","sourcesContent":["class EventEmitter {\r\n\r\n\t/**\r\n\t * Initializes the Event Emitter.\r\n\t */\r\n\tconstructor() {\r\n\t\tthis._events = { };\r\n\t}\r\n\r\n\t/**\r\n\t * Emit an Event to Listeners.\r\n\t *\r\n\t * @param {string} event\r\n\t * @param {*} [data]\r\n\t */\r\n\temit(event, data = null) {\r\n\t\tvar listeners = this._events[event],\r\n\t\t\tlistener = null;\r\n\r\n\t\tif(Array.isArray(listeners) && listeners.length > 0) {\r\n\t\t\tfor(var l = 0; l < listeners.length; l++) {\r\n\t\t\t\tlistener = listeners[l];\r\n\r\n\t\t\t\tif(listener.once) {\r\n\t\t\t\t\tlisteners[l] = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlistener.callback(data);\r\n\t\t\t}\r\n\r\n\t\t\twhile(listeners.indexOf(null) !== -1) {\r\n\t\t\t\tlisteners.splice(listeners.indexOf(null), 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set callbacks for an event(s).\r\n\t *\r\n\t * @param {string|Array} event\r\n\t * @param {function} callback\r\n\t * @param {boolean} [once]\r\n\t */\r\n\ton(event, callback, once = false) {\r\n\t\tif(Array.isArray(event)) {\r\n\t\t\tfor(var e = 0; e < event.length; e++) {\r\n\t\t\t\tthis.on(event[e], callback);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tvar split = event.split(/,|, | /);\r\n\r\n\t\t\tif(split.length > 1) {\r\n\t\t\t\tfor(var e = 0; e < split.length; e++) {\r\n\t\t\t\t\tthis.on(split[e], callback);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(!Array.isArray(this._events[event])) {\r\n\t\t\t\t\tthis._events[event] = [ ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._events[event].push({\r\n\t\t\t\t\tonce: once,\r\n\t\t\t\t\tcallback: callback\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Same as \"on\", but will only be executed once.\r\n\t *\r\n\t * @param {string|Array} event\r\n\t * @param {function} callback\r\n\t */\r\n\tonce(event, callback) {\r\n\t\tthis.on(event, callback, true);\r\n\t}\r\n\r\n}\r\n\r\n/* Unfortunately I have to support IE8. So there's that. */\r\nif(typeof Array.isArray === 'undefined') {\r\n\tArray.isArray = function(obj) {\r\n\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\r\n\t}\r\n}\r\n"],"sourceRoot":"/source/"}